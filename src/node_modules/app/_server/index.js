import "app/_server/loaders"

import path from "path"
import {Server} from "hapi"
import Inert from "inert"
import routes from "app/_server/routes"

const config = require(path.resolve("config/server.dev"))

const server = new Server()
server.connection(config.connection)

server.register(Inert, err => {
  if (err) {
    console.log("Load Inert failed", err)
  }
})

server.route(routes)

server.start(() => {
  console.log("Server running at port " + server.info.port)
})
