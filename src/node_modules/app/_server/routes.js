import _ from "lodash"
import {renderReact, loadData} from "app/_server/handlers"

const routes = [
  {
    path: "/favicon.ico",
    handler: {
      file: "public/favicon.ico"
    },
    config: {
      cache: {expiresIn: 86400000, privacy: "public"}
    }
  },
  {
    path: "/public/{path*}",
    handler: {
      directory: {
        path: "public"
      }
    }
  },
  {
    path: "/demo",
    handler: renderReact
  },
  {
    path: "/api/block/data/{id}",
    handler: loadData
  }
].map(route => _.defaults(route, {
  method: "GET"
}))

export default routes
