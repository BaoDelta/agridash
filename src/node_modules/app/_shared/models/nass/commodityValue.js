import {defaults, isArray} from "app/_shared/utils"
import sql from "app/_shared/utils/sql"

export function findByParams(params, year) {
  defaults(params, {
    domainid: 341,
    countryid: 1, agglevelid: 7,
    frequencyid: 1, referenceperioddesc: "YEAR"
  })
  const q = sql.select("stateid", "year", "value").from("nasscommodityvalue").where(params)
  if (isArray(year)) {
    q.andWhere("year", ">=", year[0]).andWhere("year", "<=", year[1])
  }
  return q
}
