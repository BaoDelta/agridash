import {findAll as findAllBlocks, findById as findBlockById} from "app/_shared/models/block"
import {load} from "app/block/_server/loader"

export function getAllBlocks(request, reply) {
  findAllBlocks().then(reply)
}

export function getBlock(request, reply) {
  setTimeout(() => {
    findBlockById(+request.params.id).then(reply)
  }, 1000)
}

export function getBlockData(request, reply) {
  setTimeout(() => {
    findBlockById(+request.params.id).then(block => load(block.loader)).then(reply)
  }, 1000)
}
