import Chance from "chance"
import {isArray, range} from "app/_shared/utils"

const chance = new Chance()

function rand() {
  return "" + chance.natural({
    min: 10000,
    max: 1000000
  })
}

function mock(category, block) {
  const {data} = block
  const locations = range(1, 10)
  const timeRange = isArray(data.time) ? range(data.time[0], data.time[1] + 1) : [data.time]
  const records = []
  timeRange.forEach(time => {
    locations.forEach(location => {
      records.push({
        category: category.id,
        location,
        time,
        value: rand()
      })
    })
  })
  return Promise.resolve(records)
}

export default mock
