import Chance from "chance"
import {range} from "app/_shared/utils"

const chance = new Chance()

function rand() {
  return "" + chance.natural({
    min: 10000,
    max: 1000000
  })
}

function mock(loader) {
  const {categories, timeRange} = loader
  if (timeRange) {
    return Promise.resolve(range(timeRange[0], timeRange[1] + 1).map(time => {
      const record = {
        time
      }
      categories.forEach(category => {
        record[category.id] = rand()
      })
      return record
    }))
  } else {
    return Promise.resolve(categories.map(category => ({
      [category.id]: rand()
    })))
  }
}

export default mock
