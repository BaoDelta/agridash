import React from "react"

const widgetById = {}

export function register(id, Widget) {
  if (widgetById[id]) {
    throw new Error("More than one widget for [" + id + "]")
  }
  widgetById[id] = Widget
}

export function render(block, data) {
  const id = block.widget.type
  const Widget = widgetById[id]
  if (!Widget) {
    throw new Error("No widget for [" + id + "]")
  }
  return <Widget config={block.widget} data={data}/>
}
