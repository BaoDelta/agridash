import React from "react"
import {get} from "app/core/_client/utils/ajax"
import WidgetTable from "app/demo/_client/views/WidgetTable"

const {Component, PropTypes} = React

export default class Block extends Component {

  static propTypes = {
    block: PropTypes.any.isRequired
  }

  componentDidMount() {
    get("/api/block/" + this.props.block.id).then(data => {
      this.setState({
        data
      })
    })
  }

  state = {}

  render() {
    const {data} = this.state
    const {block} = this.props
    return <div>
      {data && <WidgetTable widget={block.widget} data={data}/>}
    </div>
  }

}
