import {renderImage} from "app/tile/renderer"
import * as area from "app/tile/layers/area"
import * as bubble from "app/tile/layers/bubble"
import * as dot from "app/tile/layers/dot"
import * as heat from "app/tile/layers/heat"

export function register(server, config, next) {
  server.route([
    {
      method: "GET",
      path: "/area/{z}/{x}/{y}.png",
      handler: renderImage(area)
    },
    {
      method: "GET",
      path: "/bubble/{z}/{x}/{y}.png",
      handler: renderImage(bubble)
    },
    {
      method: "GET",
      path: "/dot/{z}/{x}/{y}.png",
      handler: renderImage(dot)
    },
    {
      method: "GET",
      path: "/heat/{z}/{x}/{y}.png",
      handler: renderImage(heat)
    }
  ])
  next()
}

register.attributes = {
  name: "agridash-tile"
}
