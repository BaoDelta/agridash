import renderImage from "app/tile/handlers/renderImage"
import area from "app/tile/layers/area"
import bubble from "app/tile/layers/bubble"
import dot from "app/tile/layers/dot"
import heat from "app/tile/layers/heat"
import column from "app/tile/layers/column"

export function register(server, config, next) {
  server.route([
    {
      method: "GET",
      path: "/area/{z}/{x}/{y}.png",
      handler: renderImage(area)
    },
    {
      method: "GET",
      path: "/bubble/{z}/{x}/{y}.png",
      handler: renderImage(bubble)
    },
    {
      method: "GET",
      path: "/dot/{z}/{x}/{y}.png",
      handler: renderImage(dot)
    },
    {
      method: "GET",
      path: "/heat/{z}/{x}/{y}.png",
      handler: renderImage(heat)
    },
    {
      method: "GET",
      path: "/column/{z}/{x}/{y}.png",
      handler: renderImage(column)
    }
  ])
  next()
}

register.attributes = {
  name: "agridash-tile"
}
