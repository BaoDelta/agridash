const bubbleLayer = {
  name: "bubble",
  bufferSize: 64,
  getDataOptions: request => ({
    table: "geo",
    column: "pos",
    query: `select pos, (properties->>'aland')::bigint % 4 + 1 as level from geo where source = '${request.query.s}'`,
    style: `<Style name="bubble">
      <Rule>
        <Filter>[level] = 1</Filter>
        <MarkersSymbolizer allow-overlap="true" fill="#993404" opacity="0.7" width="12" height="12"/>
      </Rule>
      <Rule>
        <Filter>[level] = 2</Filter>
        <MarkersSymbolizer allow-overlap="true" fill="#993404" opacity="0.7" width="16" height="16"/>
      </Rule>
      <Rule>
        <Filter>[level] = 3</Filter>
        <MarkersSymbolizer allow-overlap="true" fill="#993404" opacity="0.7" width="22" height="22"/>
      </Rule>
      <Rule>
        <Filter>[level] = 4</Filter>
        <MarkersSymbolizer allow-overlap="true" fill="#993404" opacity="0.7" width="30" height="30"/>
      </Rule>
    </Style>`
  })
}

export default bubbleLayer
