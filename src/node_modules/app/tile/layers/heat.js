const heatLayer = {
  name: "heat",
  bufferSize: 64,
  render: request => ({
    query: `
      select pos as geom from geo where source = '${request.query.s}' and (properties->>'aland')::bigint < 1000000000
      order by lat desc, lng desc
    `,
    style: `<Style name="heat" comp-op="multiply" image-filters="colorize-alpha(blue, cyan, green, yellow, red)">
      <Rule>
        <MarkersSymbolizer allow-overlap="true" file="images/heat.png"/>
      </Rule>
    </Style>`
  })
}

export default heatLayer
