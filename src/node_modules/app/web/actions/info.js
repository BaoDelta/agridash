import {createAction} from "redux-actions"
import {post} from "app/core/utils/ajax"

export const UPDATE_INFO = "UPDATE_INFO"
export const REQUEST_LOGIN = "REQUEST_LOGIN"

export const updateInfo = createAction(UPDATE_INFO)
export const requestLogIn = createAction(REQUEST_LOGIN)

export function login(auth) {
  return dispatch => {
    dispatch(requestLogIn())
    return post("/login", {}, auth).then(user => dispatch(updateInfo({
      user
    })))
  }
}
