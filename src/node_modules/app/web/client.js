import React from "react"
import {render} from "react-dom"
import {Router, Route, Redirect} from "react-router"
import createHistory from "history/lib/createBrowserHistory"
import App from "app/web/views/App"
import Report from "app/web/views/Report"
import NotFound from "app/web/views/NotFound"

const history = createHistory()

render(<Router history={history}>
  <Route path="/" component={App}>
    <Route path="report">
      <Route path=":id/view/:viewId" component={Report}/>
    </Route>
    <Redirect from="/r/:id/v/:viewId" to="/report/:id/view/:viewId"/>
    <Redirect from="/report/:id/v/:viewId" to="/report/:id/view/:viewId"/>
    <Redirect from="/r/:id/view/:viewId" to="/report/:id/view/:viewId"/>
    <Route path="*" component={NotFound}/>
  </Route>
</Router>, document.getElementById("appContent"))
