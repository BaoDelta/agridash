import "es5-shim"
import "app/web/patches/bootstrap"
import "app/web/patches/alpaca"
import "app/web/patches/leaflet"

import React from "react"
import {render} from "react-dom"
import {Provider} from "react-redux"
import {Router} from "react-router"
import createHistory from "history/lib/createBrowserHistory"
import {dispatch} from "app/web/store"
import {updateInfo} from "app/web/actions/info"
import store from "app/web/store"
import routes from "app/web/routes"

dispatch(updateInfo(window.appInfo))

const history = createHistory()

render(<Provider store={store}>
  <Router history={history}>{routes}</Router>
</Provider>, document.getElementById("appContent"))
