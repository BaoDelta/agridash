import createArrayOptions from "app/web/forms/createArrayOptions"
import {getSchema as getViewSchema, getOptions as getViewOptions} from "app/web/forms/view"

export function getSchema() {
  return {
    type: "object",
    properties: {
      name: {
        type: "string",
        required: true
      },
      views: {
        type: "array",
        items: getViewSchema()
      }
    }
  }
}

export function getOptions(options) {
  return {
    label: "Report",
    fields: {
      name: {
        label: "Name"
      },
      views: createArrayOptions({
        label: "Views",
        items: getViewOptions()
      })
    },
    ...options
  }
}
