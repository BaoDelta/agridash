import React from "react"
import {get} from "app/core/utils/ajax"
import Map from "app/web/views/Map"
import NavLink from "app/web/views/NavLink"
import Icon from "app/web/views/Icon"
import Loading from "app/web/views/Loading"
import Button from "app/web/views/Button"

const {Component, PropTypes} = React

class Report extends Component {

  static propTypes = {
    params: PropTypes.object.isRequired
  }

  state = {}

  componentDidMount() {
    const {clientConfig} = window
    const {params} = this.props
    get(`${clientConfig.apiUrl}/report/${params.id}`).then(report => {
      this.setState({
        report
      })
    })
  }

  render() {
    const {report} = this.state
    if (!report) {
      return <Loading/>
    }
    return <div>
      <div className="row">
        <div className="col-sm-4 col-md-3">
          <div className="text-center m-y-md">
            <h3>Demo 1</h3>
            <div className="btn-group btn-group-sm">
              <Button className="btn-secondary"><Icon icon="thumbs-o-up"/></Button>
              <Button className="btn-secondary"><Icon icon="link"/></Button>
              <Button className="btn-secondary"><Icon icon="clone"/></Button>
            </div>
          </div>
          <ul className="nav nav-pills nav-stacked m-b">
            <NavLink to="?view=1" className="active"><Icon icon="map-o" fw/> Map 1</NavLink>
            <NavLink to="?view=2"><Icon icon="map-o" fw/> Map 2</NavLink>
            <NavLink to="?view=3"><Icon icon="list-ul" fw/> List 1</NavLink>
            <NavLink to="?view=4"><Icon icon="list-ul" fw/> List 2</NavLink>
            <NavLink to="?view=5"><Icon icon="line-chart" fw/> Trends 1</NavLink>
            <NavLink to="?view=6"><Icon icon="line-chart" fw/> Trends 2</NavLink>
          </ul>
        </div>
        <div className="col-sm-8 col-md-9">
          <Map/>
        </div>
      </div>
    </div>
  }

}

export default Report
